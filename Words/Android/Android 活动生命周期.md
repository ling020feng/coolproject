#### Android 活动生命周期

activity一般路线如下：

创建 ----> 开始----> 重启----->销毁

##### 创建：

onCreate（）：活动最开始执行创建，主要承担大部分功能，一般操作都写在它之后。

创建后会快速调用

onStart（）和onResume（）；

最后会调用onDestroy（）进行收尾。

注意Activity中包含onCreate（）创建后台的线程或者未正确关闭内存泄漏长期运行，会导致一些

不可知的错误，需要onCreate（）去终止它。

#### 两种特殊情况：

**暂停和继续**

当系统调用 Activity 的 onPause()) 时,从技术上来说它是部分可见。但是大多数情

况下是用户将要离开 Activity,马上会变成停止状态。你通常应该使用 onPause())

回调:

检查 Activity 是否可见。如果不可见,请停止动画或其他正在进行的可能消耗

CPU 的操作。记住,从 Android 7.0 开始,暂停的应用可能会在多窗口模式下

运行。 在本示例中,你可能不想停止动画或视频播放。

释放系统资源,比如广播接收器、传感器手柄(如 GPS),或当你的 Activity

暂停时用户不需要它们且可能影响电池寿命的其他资源。



请注意,每当你的 Activity 进入前台时系统便会调用此方法,包括它初次创建之

时。 同样地,你应实现 onResume()) 以初始化你在 onPause()) 期间释放的组件,

并执行每当 Activity 进入“继续”状态时必须进行的任何其他初始化操作(比如开始动

画和初始化只在 Activity 具有用户焦点时使用的组件)。

**重启和停止**

正确停止和重启 Activity 是 Activity 生命周期中的重要过程,其可确保你的用户知

晓应用始终保持活跃状态并且不会丢失进度。Activity 停止和重启的场景主要有以

下几种:

用户打开“最近应用”窗口并从你的应用切换到另一个应用。你的应用中当前位

于前台的 Activity 将停止。 如果用户从主屏幕启动器图标或“最近应用”窗口返

回到你的应用,将会重启 Activity。

用户在你的应用中执行开始新 Activity 的操作。当第二个 Activity 创建好后,

当前 Activity 便停止。 如果用户之后按了返回按钮,第一个 Activity 会重新开

始。

用户在其手机上使用你的应用的同时接听来电。



用户离开 Activity 时,系统会调用 onStop()) 停止 Activity (1)。如果用户在

Activity 停止时返回,系统会调用 onRestart()) (2),紧接着调用 onStart()) (3) 和

onResume()) (4)。请注意,无论什么场景导致 Activity 停止,系统始终会在调用

onStop()) 之前调用 onPause())。

